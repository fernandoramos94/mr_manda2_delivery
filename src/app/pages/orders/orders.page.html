<ion-header>
    <ion-toolbar color="primary">
        <ion-title>{{
            segId == 1 ? 'Ordenes nuevas' : segId == 2  ? 'Ordenes aceptadas' : segId == 3 ? 'Ordenes finalizadas' : '' 
        }}</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-refresher slot="fixed" pullFactor="0.5" pullMin="100" pullMax="200" (ionRefresh)="doRefresh($event)">
        <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
    <div class="main_content_div">
        <div class="centent_div" *ngIf="segId == 1">
            <h2 class="ion-text-center" *ngIf="!dummy?.length && !orders?.length">No hay ordenes nuevas</h2>

            <div class="card_div" *ngFor="let item of orders" (click)="goToOrderDetail(item.orderId)">

                <div class="resto_detail">
                    <div class="back_image"
                        [ngStyle]="{'background-image':'url('+api.mediaURL+item.user_cover+'),url(assets/placeholder.jpg)'}">
                    </div>
                    <div style="margin-left: 10px;">
                        <ion-label class="res_name">{{item.user_first_name +' '+item.user_last_name}}</ion-label>
                        <ion-label class="res_location">{{item.time | date: 'MMM d, y, HH:mm:ss'}}</ion-label>
                    </div>

                    <div class="order_id">
                        <ion-label>{{util.translate('Orden #')}} {{item.orderId}}</ion-label>
                    </div>
                </div>
            </div>
        </div>

        <div class="centent_div" *ngIf="segId == 2">
            <h2 class="ion-text-center" *ngIf="!dummy?.length && !oldOrders?.length">No hay ordenes</h2>
            <div class="card_div" *ngFor="let item of oldOrders" (click)="goToOrderDetail(item.orderId)">
                <div class="resto_detail">
                    <div class="back_image"
                        [ngStyle]="{'background-image':'url('+api.mediaURL+item.user_cover+'),url(assets/placeholder.jpg)'}">
                    </div>
                    <div style="margin-left: 10px;">
                        <ion-label class="res_name">{{item.user_first_name +' '+item.user_last_name}}</ion-label>
                        <ion-label class="res_location">{{item.time | date: 'MMM d, y, HH:mm:ss'}}</ion-label>
                    </div>

                    <div class="order_id">
                        <ion-label>{{util.translate('Orden #')}} {{item.orderId}}</ion-label>
                    </div>
                </div>
            </div>
        </div>
        <div class="centent_div" *ngIf="segId == 3">
            <h2 class="ion-text-center" *ngIf="!dummy?.length && !finish?.length">No hay ordenes</h2>
            <div class="card_div" *ngFor="let item of finish" (click)="goToOrderDetail(item.orderId)">
                <div class="resto_detail">
                    <div class="back_image"
                        [ngStyle]="{'background-image':'url('+api.mediaURL+item.user_cover+'),url(assets/placeholder.jpg)'}">
                    </div>
                    <div style="margin-left: 10px;">
                        <ion-label class="res_name">{{item.user_first_name +' '+item.user_last_name}}</ion-label>
                        <ion-label class="res_location">{{item.time | date: 'MMM d, y, HH:mm:ss'}}</ion-label>
                    </div>

                    <div class="order_id">
                        <ion-label>{{util.translate('Orden #')}} {{item.orderId}}</ion-label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</ion-content>
<ion-tabs>
    <ion-tab-bar slot="bottom" >
        <ion-tab-button (click)="onClick(1)" [class.active]="segId == 1">
            <ion-icon name="notifications-outline"></ion-icon>
            <ion-label>Nuevas</ion-label>
        </ion-tab-button>
        <ion-tab-button (click)="onClick(2)" [class.active]="segId == 2">
            <ion-icon name="grid-outline"></ion-icon>
            <ion-label>Aceptadas</ion-label>
        </ion-tab-button>
        <ion-tab-button (click)="onClick(3)" [class.active]="segId == 3">
            <ion-icon name="bag-outline"></ion-icon>
            <ion-label>Finalizadas</ion-label>
        </ion-tab-button>
        <ion-tab-button [routerLink]="['/profile']">
            <ion-icon name="person-outline"></ion-icon>
            <ion-label>Perfil</ion-label>
        </ion-tab-button>
    </ion-tab-bar>
</ion-tabs>
    